package study.jsp.mysite.test;

import org.apache.ibatis.session.SqlSession;
import org.apache.logging.log4j.LogManager;
import org.apache.logging.log4j.Logger;

import study.jsp.mysite.dao.MyBatisConnectionFactory;
import study.jsp.mysite.impl.BbsDocumentServiceImpl;
import study.jsp.mysite.model.BbsDocument;
import study.jsp.mysite.service.BbsDocumentService;

public class DocumentInsertTest {
	public static void main(String[] args) {
	BbsDocument bbsDocument = new BbsDocument();
	bbsDocument.setContent("내용");
	bbsDocument.setEmail("asd");
	bbsDocument.setCategory("free");
	bbsDocument.setWriterName("asd");
	bbsDocument.setWriterPw("aasd");
	bbsDocument.setSubject("asd");
	
	SqlSession sqlSession = MyBatisConnectionFactory.getSqlSession();
	Logger logger = LogManager.getFormatterLogger();
	BbsDocumentService bbsDocumentService = new BbsDocumentServiceImpl(sqlSession, logger);
	
	
	try {
		bbsDocumentService.insertDocument(bbsDocument);
	} catch (Exception e) {
		System.out.println(e.getLocalizedMessage());
		e.printStackTrace();
	}
	System.out.println(bbsDocument.getId() + "번째 게시물 저장됨");
}
}
