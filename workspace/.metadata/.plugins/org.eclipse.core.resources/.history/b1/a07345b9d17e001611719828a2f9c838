package study.jsp.helper;

import java.io.UnsupportedEncodingException;

import javax.servlet.http.HttpServletRequest;

import jdk.nashorn.internal.ir.RuntimeNode.Request;

public class WebHelper {

	//싱글톤 시작
	private static WebHelper current = null;
		
		public static WebHelper getInstance(HttpServletRequest request) {
			if (current == null){
				current = new WebHelper();
			}
			//초기화 메서드를 호출한다.
			current.init(request);
			return current;
		}
		public static void freeInstance(){
			//객체에 null을 대입하면 메모리 에서 삭제
			current=null;
			
		}
		//기본 생성자를 private 으로 은닉하면 new를 통한 생성 불가
		private WebHelper(){
			super();
	//싱글톤 끝
	
}
/**jsp의 request 내장객체 */
		
	private HttpServletRequest request;
	
	/**
	 * Webhelper 기능을 초기화한다.
	 * jsp의 내장객체는 jsp 페이지에서만 생성되기 때문에.
	 * 일반 Java 클래스에서 접근하기 위해서는 jsp 페이지에서 전달 받아야 한다.
	 */
	public void init(HttpServletRequest request){
		this.request = request;
		
		/*내장객체 초기화 -> utf -8  설정 */
		
		try {
			this.request.setCharacterEncoding("UTF-8");
		} catch (UnsupportedEncodingException e) {
			e.printStackTrace();
		}
	}
	public String getString(String fieldName, String defaultValue){
		
	}
		
}
