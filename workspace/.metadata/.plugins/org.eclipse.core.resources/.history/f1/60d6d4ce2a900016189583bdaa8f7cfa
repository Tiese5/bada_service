package study.jsp.mysite.test;

import org.apache.ibatis.session.SqlSession;
import org.apache.logging.log4j.LogManager;
import org.apache.logging.log4j.Logger;

import study.jsp.mysite.dao.MyBatisConnectionFactory;
import study.jsp.mysite.impl.BbsFileServiseImpl;
import study.jsp.mysite.model.BbsFile;
import study.jsp.mysite.service.BbsFileService;
import sun.util.logging.resources.logging;

public class FileTest {
	public static void main(String[] args) {
	BbsFile bbsFile = new BbsFile();
	
	bbsFile.setContentType("free");
	bbsFile.setFileDir("asd");
	bbsFile.setBbsDocumentId(3);
	bbsFile.setFileName("asd");
	
	SqlSession sqlSession = MyBatisConnectionFactory.getSqlSession();
	Logger logger = LogManager.getFormatterLogger();
	logger.debug(File ="File");
	BbsFileService bbsFileService = new BbsFileServiseImpl(sqlSession, logger);
	
	try {
		bbsFileService.insertFile(bbsFile);
	} catch (Exception e) {
		System.out.println(e.getLocalizedMessage());
		e.printStackTrace();
	}
	
	System.out.println(bbsFile.getId()+"번째 파일 저장됨");
}
}
